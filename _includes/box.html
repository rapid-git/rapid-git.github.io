{% if include.state %}
  {% assign state = include.state | append: ' ' %}
{% endif %}
{% assign type = include.type | default: 'rhomboid' | append: ' ' %}
{% assign headline-type = include.headline-type | default: 'elegant' | append: ' ' %}

{% if include.headline-id %}
  {% assign headline-id = include.headline-id | prepend: 'id="' | append: '" ' %}
{% endif %}

<div class="{{ state }}{{ type }}box">
  <svg
    preserveAspectRatio="none"
    class="background" >

    {% if type == 'rhomboid ' or type == 'closing rhomboid ' %}
      <svg
        viewBox="0 0 500 70"
        y="-70"
        height="70"
        width="100%"
        preserveAspectRatio="none" >
        <path
          style="fill:#ffffff;"
          d="m 0,70 500,0 0,-70 z" />
      </svg>
    {% endif %}

    <svg
      viewBox="0 0 1 1"
      width="100%"
      preserveAspectRatio="none" >
      <path
        style="fill:#ffffff;"
        d="m 0,0 0,1 1,0 0,-1 z" />
    </svg>

    {% if type == 'rhomboid ' or type == 'opening rhomboid ' %}
      <svg
        viewBox="0 0 500 70"
        y="100%"
        height="70"
        width="100%"
        preserveAspectRatio="none" >
        <path
          style="fill:#ffffff;"
          d="m 0,0 0,70 500,-70 z" />
      </svg>
    {% endif %}

    {% if include.headline %}
      {% unless type contains 'opening' %}
        <svg
          viewBox="0 0 500 140"
          y="-70"
          height="140"
          preserveAspectRatio="none"
          class="{{ headline-type }}" >
          <path
            d="m 0,70 0,70 500,0 0,-140 z" />
        </svg>
      {% else %}
      <svg
        viewBox="0 0 1 1"
        y="0"
        height="70"
        preserveAspectRatio="none"
        class="{{ headline-type }}" >
        <path
          d="m 0,0 0,1 1,0 0,-1 z" />
      </svg>
      {% endunless %}
    {% endif %}
  </svg>

  {% if include.headline %}
    <h2 {{ headline-id }}class="{{ headline-type }}headline">
      {{ include.headline }}
    </h2>
  {% endif %}

  {% if include.state == 'experimental' %}
    {% include double-header.html
      left-label      = include.left-label
      left-href       = include.left-href
      left-target     = include.left-target
      left-headline   = include.left-headline

      right-label     = include.right-label
      right-href      = include.right-href
      right-target    = include.right-target
      right-headline  = include.right-headline
    %}
  {% endif %}

  <div class="content">
    {{ include.content }}
  </div>
</div>
